---
alwaysApply: true
description: list_dir 工具无法显示点文件的限制说明
---

# list_dir 工具点文件限制

## 核心问题

`list_dir` 工具默认**不显示以点 (.) 开头的文件**（dotfiles），这会导致遗漏重要的配置文件。

## 常见被忽略的文件类型

以下类型的文件会被 `list_dir` 工具忽略：

- `.env`、`.env.dist`、`.env.example` - 环境变量配置文件
- `.gitignore`、`.dockerignore` - 忽略规则配置
- `.eslintrc`、`.prettierrc` - 代码规范配置
- `.markdownlint.yaml` - Markdown 格式规范
- `.editorconfig` - 编辑器配置
- 其他所有以点开头的配置文件和隐藏文件

## 正确做法

### ❌ 错误方式

```
仅使用 list_dir 工具检查目录
→ 结果：只看到普通文件
→ 结论：目录下没有配置文件（可能是错误的！）
```

### ✅ 正确方式

#### 方式 1：使用 run_terminal_cmd 工具（推荐）

```bash
ls -la /path/to/directory/
# -a 参数会显示所有文件，包括隐藏文件
```

#### 方式 2：使用 read_file 工具直接读取

如果知道可能存在的配置文件名，直接尝试读取：

```
read_file(".env.dist")
read_file(".gitignore")
```

#### 方式 3：使用 glob_file_search 工具

搜索特定的隐藏文件：

```
glob_file_search("**/.env*")
glob_file_search("**/.*rc")
```

## 最佳实践

1. **验证文件是否存在**：不要仅凭 `list_dir` 的结果就断定文件不存在
2. **检查隐藏文件**：当需要查看完整目录内容时，优先使用 `ls -la` 命令
3. **直接读取**：如果知道常见的配置文件名模式，直接尝试读取
4. **查看 .gitignore**：了解哪些文件被忽略，哪些文件应该存在于仓库中
5. **组合使用工具**：先用 `list_dir` 查看普通文件，再用 `ls -la` 查看完整列表

## 何时需要特别注意

- 查找项目配置文件时
- 验证文件是否存在时
- 检查目录完整性时
- 处理环境变量和敏感配置时
- 分析项目结构时
